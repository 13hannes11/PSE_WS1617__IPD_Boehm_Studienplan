\section{Server einrichten}
\subsection{Datenbank einrichten}
\begin{itemize}
	\item beide Datenbanken aus den Dumps \texttt{moduledata\_dump.sql} und \texttt{userdata\_dump.sql} mit MySQL erzeugen
	\item in der Nutzer-Datenbank folgendes Statement ausführen \\
	\begin{lstlisting}[language=SQL, tabsize=2]
INSERT INTO `rest_client` 
VALUES (1, 'key-26hg02lsa',
		'secret-jg921tjg0', '.*',
		'http://localhost/processLogin');
	\end{lstlisting}
	\item unter \texttt{studyplan\_server/src/main/resources} die Dateien \texttt{moduledata.cfg.xml} und \texttt{userdata.cfg.xml} bearbeiten und in Zeile 11 die Datenbankverbindung anpassen (connection.url, connection.username und connection.password müssen geändert werden)
	\begin{lstlisting}[language=XML, tabsize=2, frame = single, caption={Auszug aus *data.cfg.xml}, captionpos=b]
<!-- Database connection settings -->
<property name="connection.driver_class">
	com.mysql.jdbc.Driver
</property>
<property name="connection.url">
	jdbc:mysql://path/to/database
</property>
<property name="connection.username">username</property>
<property name="connection.password">password</property>
	\end{lstlisting}
\end{itemize}
\subsection{Tomcat einrichten}
\begin{itemize}
	\item \textit{Apache Tomcat 8.5} herunterladen oder direkt aus der ZIP-Datei entpacken (im letzteren Fall ist Tomcat bereits konfiguriert)
	\item ansonsten müssen folgende im Ordner \texttt{conf} von Tomcat angepasst werden, hier kann sich an den Konfigurationen der fertig gepackten Variante orientiert werden
	\begin{itemize}
		\item \texttt{context.xml}: bei \texttt{<context>} sollte \texttt{reloadable} auf \texttt{true} gesetzt werden (dies ermöglicht einen Redeploy ohne Neustart des Servers)
		\item   \texttt{server.xml}: hier kann in Zeile 69 der Port eingestellt werden auf dem Tomcat läuft, in unserem Fall 9999
		\item \texttt{tomcat-users.xml}: Hier muss die Role \texttt{student} und entsprechende Nutzer die dieser angehören hinzugefügt werden. Nur Nutzer die hier hinterlegt sind, können sich auf dem System einloggen. \\
		Dies ist das Äquivalent zu einem auf dem Shibboleth Identity Provider registrierten Nutzer, er ist berechtigt unsere Anwendung zu nutzen, hat aber zunächst kein Benutzerkonto.
	\end{itemize}
	\item Wurde die fertig konfigurierte Installation verwendet, so sind bereits die Nutzer \textit{max\_mustermann} und \textit{peter\_schmidt} hinterlegt, beide mit dem Passwort \textit{123}.
\end{itemize}
\subsection{Server kompilieren und ausführen}
\begin{itemize}
	\item Voraussetzung ist eine korrekt eingerichtete Installation von \textit{Apache Maven}
	\item Über die Kommandozeile in das Verzeichnis \texttt{studplan\_server} navigieren
	\item \texttt{mvn package} ausführen
	\item im Verzeichnis \texttt{target} findet sich die Datei \texttt{studyplan.war}. Diese muss nun in das \texttt{webapp} Verzeichnis der Tomcat Installation kopiert werden.
	\item der Server kann nun über das Skript \texttt{startup.sh} (bzw. \texttt{*.bat}) im \texttt{bin} Verzeichnis der Tomcat-Installation gestartet werden
	\item der Studyplan Applikationsserver läuft nun unter \texttt{http://localhost:9999/studyplan}
	\item angehalten wird Tomcat über das \texttt{shutdown} Skript im bin Verzeichnis
	\item Alternativ kann der Server auch ohne lokale Tomcat-Installation über das Tomcat-Maven-Plugin gestartet werden. Hierfür muss im Verzeichnis \texttt{studyplan\_server} \texttt{mvn tomcat7:run} ausgeführt werden
\end{itemize}

\section{Bedienungsanleitung}

StudyPlaner ist eine WebApp die dafür sorgt dass ein Benutzer sein Studium einfach, schnell und sicher planen kann. Dafür muss er sich registrieren und ein Paar Informationen bezüglich sein Studium (Studienfach, Studienbeginn, bestandene Modulen..) eingeben, damit die richtigen informationen für ihn geladen werden können. \\

Nach der Anmeldung wird er auf die Hauptseite weitergeleitet dort kann er seine Plänen verwalten ( erstellen, duplizieren, als PDF exportieren und löschen). \\

Will der Benutzer einen Plan erstellen, so drückt er auf den Erstellungsbutton und gibt einen Namen ein. Die Planansicht-Seite ist eine übersichtliche Oberfläche mit einem Plan auf der linken Seite und einer Modulen-Liste auf der rechten.\\

Die bereits bestandene Module bzw. vergangene Semestern sind schon im Plan eingebettet bzw. ausgefüllt.\\
So kann der Benutzer neue Semestern einfügen und Modulen mit Drag and Drop aus der Modulen-Liste in den Semestern des Plans fallen lassen. Die ECTS anzahl der Semestern und des ganzen Plans werden somit aktualisiert. \\

Die Modulen-Liste stellt verschiedene Filtern zur Verfügung, damit es einfacher wird einen Modul mittels verschiedenen kriterien gefunden werden, sowie Name, angebotenes Semester,  Veranstaltungsart, Fachrichtung, Kategorie, ECTS-Bereich und ob der Modul pflichtig ist.\\

Der Benutzer hat auch die Möglichkeit die Modulen positiv oder negativ zu bewerten (die Bewertungen werden auch bei der Generierung berücksichtigt).\\
Klickt er auf den Verifybutton wird der derzeitige Plan anhand der Modulen-Constraints und der studienfachspeziefische-Constraints verifiziert. Wenn Constraint-Verletzungen gefunden werden, werden in einem Pop-up Dialog Fenster angezeigt werden und die fehlerhaften Module rot umrahmt. Damit kann der Benutzer den Plan dementsprechend anpassen.\\

Der Vervollständigen-button dient zur vervollständigung des bereits existierenden Plans mit angemessenen Modulen. Klickt der Benutzer darauf  wird er auf den Generierungsansicht weitergeleitet. Hier kann er das Maximum ECTS Punkte Per Semester sowie die Zielfunktionen auswählen. Eine Zielfunktion ist ein Kriterium anhand dessen einen Plan optimisiert wird. Wählt der Benutzer die mindest Anzahl an Semestern Zielfunktion, wird der Plan so vervollständigt, dass er möglichst weniger Semestern enthält.  \\

Wenn aus dem bereits existierenden Plan einen neuen vervollständigt Plan anhand der eingegebenen Daten generiert werden kann. Wird den neuen Plan angezeigt und mit einer neuen Leiste, die den Plan zu übernehmen, zu verwerfen, oder unter einen neuen Namen zu speichern anbietet. Der Benutzer muss nur noch wählen welche Aktion zu unternehmen.\\

Der Benutzer kann jederzeit seinen Profil bearbeiten, abmelden und mittels die bei der Registrierung eingegebenen Login-Daten sich wieder anmelden.
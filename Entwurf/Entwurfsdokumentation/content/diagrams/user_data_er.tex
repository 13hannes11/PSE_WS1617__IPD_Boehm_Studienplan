\resizebox{\textwidth}{!} {
\begin{tikzpicture}
	\node[entity] (user) {user};
	\node[attribute, num][left =of user]{\key{user\_id}} edge (user);
	\node[attribute][below= of user]{name} edge (user);
	\node[attribute, num](disc)[below right= of user]{discipline\_id} edge (user);
	\node[draw][below right= of disc, text width = 3cm, dashed] {Referenz zum Studiengang in Moduldatenbank} edge [dashed] (disc);
	\node[attribute](start)[below left= of user]{study\_start} edge (user);
	\node[attribute, num][left= 0.5cm of start]{year} edge (start);
	\node[attribute, enum][below= 0.5cm of start]{semester\_type} edge (start);

	\node[relationship](bel) [above = 2cmof user] {belongs to} edge node[auto,swap] {1} (user);
	
	\node[entity] (plan) [above = 6cm of user]{plan} edge node[auto,swap] {0..*} (bel);
	\node[attribute, num][above left =of plan]{\key{plan\_id}} edge (plan);
	\node[attribute][left= of plan]{name} edge (plan);
	%\node[attribute][left= of plan]{unique\_id} edge (plan);
	%\node[attribute][below right = of plan]{credit\_points} edge (plan);
	\node[attribute, enum][below left= of plan]{state} edge (plan);
	\node[attribute][above right = of plan]{identifier} edge (plan);
	
	\node[relationship](con) [right =2cm of plan] {contains} edge node[auto,swap] {1} (plan);
	
	\node[relationship](con2) [above = 2cm of plan] {contains} edge node[auto,swap] {1} (plan);
	
	\node[entity] (pref) [above = 6cm of plan] {module\_preference} edge  node[auto,swap] {0..*}(con2);
	\node[attribute, num](modId2)[right = of pref]{module\_id} edge (pref);
	\node[attribute, enum][left = of pref]{preference\_type} edge (pref);
	\node[attribute, num][below left = of pref]{\key{preference\_id}} edge (pref);
	
	\node[entity] (entry) [right = 6cm of plan]{module\_entry} edge  node[auto,swap] {0..*}(con);
	\node[attribute, num][below =of entry]{\key{entry\_id}} edge (entry);
	\node[attribute, num][above = of entry]{semester} edge (entry);
	\node[attribute, num](modId)[above right= of entry]{module\_id} edge (entry);
	\node[draw][above left = of modId, text width = 3cm, dashed] {Referenz zum ensprechenden Modul in Moduldatenbank} edge [dashed] (modId) edge [dashed] (modId2);
	
	
	\node[relationship](pass) [above right = 3cm of user] {passed} edge node[auto,swap] {1} (user);
	\draw (pass) edge node[auto,swap] {0..*} (entry);


\end{tikzpicture}
}
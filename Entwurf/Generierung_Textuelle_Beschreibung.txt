Generierung

Die Methode generate(.......):...... lädt alle Module des übergebenen Plans, sowie die bereits bestandenen Module des Users in eine Modulliste. Aus dieser wird ein Abhängigkeitsgraph modeliert: Jedes Modul ist ein Knoten, die Constraints bilden Kanten zwischen den betreffenden Knoten. Module mit „Zusammenhang_Semester“-Constraint werden alle in einem Knoten (genannt "Blase") zusammengefasst, „Zusammenhang_Übergreifend“-Constraints werden als gerichtete Kanten mit zufälliger Richtung modelliert und „Voraussetzung“-Constraints als gerichtete Kanten. Module des übergebenen Plans, bestandene Module des Users und Pflichtmodule (unter anderem ausreichend viele Module des Vertiefungsfachs) werden als Knoten eingefügt. Allen enthaltenen Modulen werden rekursiv fehlende Constraints (also Module + Abhängigkeitskanten) angefügt. Nach endender Rekursion werden zufällige weitere Module als Knoten eingefügt und die Constraints rekursiv hinzugefügt, bis die Ziel-ECTS-Zahl im Graphen enthalten ist und alle notwendigen Constraints hinzugefügt wurden. Der entstandene Graph muss nicht zusammenhängend, aber azyklisch sein. 

Die Knoten des entstandenen Abhängigkeitsgrafen werden durch Tiefensuche nummeriert. Diese Nummerierung stellt eine topologische Sortierung dar. Beginnend mit dem niedrigwertigsten Knoten werden jetzt aufeinanderfolgende Knoten nebeneinander (also in ein Semester) geschoben. Hierbei müssen die bereits bestandenen Module und die Module des übergebenen Plans in dem bereits angegebenen Semester (der entsprechenden Ebene) gespeichert werden. Dabei dürfen keine Querpfeile entstehen, die Maximal-ECTS-Punkte-Anzahl eines Semesters (also einer Ebene) darf nicht überschritten werden und es dürfen keine sich überschneidenden Module in eine Ebene ( also ein Semester) gezogen werden. Die Ebenen-Anzahl (bzw. Semesteranzahl) wird unter Berücksichtung der Constraints minimiert (der gewünschten Semesteranzahl angenähert). 

Zur Optimierung sollen 10 ähnliche Graphen entworfen, diese durch eine Zielfunktion bewertet und der beste ausgewählt werden. Dieses wird rekursiv wiederholt, bis eine zufriedenstellende Bewertung durch die Zielfunktion erreicht wird. Es handelt es sich also um einen genetischen Algorithmus. Die ähnlichen Graphen werden wie folgt erreicht: Es wird ein Modul, welches kein Pflichtmodul ist, ohne Ausgangsknoten gesucht, entfernt und ein anderes zufälliges eingefügt.

Zum Schluss wird der optimierte Graph in einen Plan umgewandelt. Das Semester der Modul-Entrys wird jeweils auf die Ebenen-Nummer gesetzt und das Modul-Entry dem Plan beigefügt. Den mit allen Modulen des Grafen ergänzten Plan gibt die Methode generate zurück.

